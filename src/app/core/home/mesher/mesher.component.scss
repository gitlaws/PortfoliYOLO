// ===== ENHANCED PASTEL COLOR PALETTE =====
$pastel-colors: (
  lavender: #e6e6ff,
  peach: #ffd7d7,
  mint: #d7ffd7,
  sky: #d7f3ff,
  rose: #ffcce5,
  cream: #fff7d7,
  lilac: #f0d7ff,
  coral: #ffd7cc,
  sage: #d7ffcc,
  powder: #cce5ff,
  blush: #ffccdb,
  pearl: #f5f5dc,
);

// Enhanced ethereal gradients
$ethereal-gradients: (
  aurora-primary:
    linear-gradient(
      45deg,
      rgba(230, 230, 255, 0.1) 0%,
      rgba(255, 215, 215, 0.08) 35%,
      rgba(215, 255, 215, 0.06) 70%,
      rgba(215, 243, 255, 0.04) 100%
    ),
  aurora-secondary:
    linear-gradient(
      135deg,
      rgba(255, 204, 229, 0.08) 0%,
      rgba(240, 215, 255, 0.06) 40%,
      rgba(204, 229, 255, 0.04) 100%
    ),
  aurora-tertiary:
    linear-gradient(
      90deg,
      rgba(215, 255, 204, 0.06) 0%,
      rgba(255, 247, 215, 0.04) 50%,
      rgba(255, 215, 204, 0.02) 100%
    ),
);

// Performance and animation variables
$animation-duration: 20s;
$breath-duration: 8s;
$orb-float-duration: 12s;
$crystal-rotation-duration: 15s;

// Responsive breakpoints
$breakpoints: (
  mobile: 480px,
  tablet: 768px,
  laptop: 1024px,
  desktop: 1200px,
  ultrawide: 1600px,
);

// ===== MIXINS =====
@mixin respond-to($breakpoint) {
  @if map-has-key($breakpoints, $breakpoint) {
    @media (max-width: map-get($breakpoints, $breakpoint)) {
      @content;
    }
  }
}

@mixin ethereal-blur($intensity: medium) {
  @if $intensity == high {
    filter: blur(120px) saturate(110%);
  } @else if $intensity == medium {
    filter: blur(80px) saturate(105%);
  } @else {
    filter: blur(40px);
  }
  backdrop-filter: blur(20px);
}

@mixin glass-morphism($opacity: 0.1) {
  background: rgba(255, 255, 255, $opacity);
  backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.2);
}

@mixin floating-animation($duration: 12s, $distance: 20px) {
  animation: floatGentle $duration ease-in-out infinite;
  animation-fill-mode: both;

  @keyframes floatGentle {
    0%,
    100% {
      transform: translateY(0px) rotate(0deg);
    }
    25% {
      transform: translateY(-#{$distance * 0.7}) rotate(1deg);
    }
    50% {
      transform: translateY(-#{$distance}) rotate(0deg);
    }
    75% {
      transform: translateY(-#{$distance * 0.3}) rotate(-0.5deg);
    }
  }
}

// ===== MAIN CONTAINER =====
.animated-mesh-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: -1;
  overflow: hidden;
  pointer-events: none;
  opacity: 0;
  transition: opacity 2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  contain: layout style paint;
  background: radial-gradient(
      circle at 20% 30%,
      rgba(230, 230, 255, 0.03) 0%,
      transparent 50%
    ),
    radial-gradient(
      circle at 80% 70%,
      rgba(255, 215, 215, 0.02) 0%,
      transparent 50%
    ),
    linear-gradient(135deg, #fafafa 0%, #f8f9ff 100%);

  &.active {
    opacity: 1;
    pointer-events: auto;
  }

  // Theme variations
  &[data-theme="dark"] {
    background: radial-gradient(
        circle at 20% 30%,
        rgba(100, 100, 150, 0.05) 0%,
        transparent 50%
      ),
      radial-gradient(
        circle at 80% 70%,
        rgba(120, 80, 120, 0.03) 0%,
        transparent 50%
      ),
      linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 100%);
  }

  &[data-theme="minimal"] {
    background: linear-gradient(135deg, #ffffff 0%, #f5f5f5 100%);
  }

  // Intensity levels
  &[data-intensity="low"] {
    --mesh-opacity: 0.2;
    --effect-intensity: 0.3;
  }
  &[data-intensity="medium"] {
    --mesh-opacity: 0.5;
    --effect-intensity: 0.6;
  }
  &[data-intensity="high"] {
    --mesh-opacity: 0.7;
    --effect-intensity: 0.8;
  }
  &[data-intensity="ultra"] {
    --mesh-opacity: 0.9;
    --effect-intensity: 1;
  }
}

// ===== ETHEREAL BASE LAYER =====
.ethereal-base {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;

  .aurora-bands {
    position: relative;
    width: 100%;
    height: 100%;

    .aurora-band {
      position: absolute;
      width: 120%;
      height: 120%;
      opacity: calc(var(--effect-intensity, 0.6) * 0.3);
      @include ethereal-blur(medium);
      mix-blend-mode: screen;

      &.aurora-primary {
        top: -20%;
        left: -10%;
        background: map-get($ethereal-gradients, aurora-primary);
        animation: auroraDrift1 25s ease-in-out infinite;
      }

      &.aurora-secondary {
        bottom: -20%;
        right: -10%;
        background: map-get($ethereal-gradients, aurora-secondary);
        animation: auroraDrift2 30s ease-in-out infinite;
      }

      &.aurora-tertiary {
        top: 30%;
        left: 20%;
        width: 80%;
        height: 60%;
        background: map-get($ethereal-gradients, aurora-tertiary);
        animation: auroraPulse 35s ease-in-out infinite;
      }
    }
  }
}

// ===== FLOATING ORBS =====
.floating-orbs {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 2;

  .orb {
    position: absolute;
    border-radius: 50%;
    opacity: calc(var(--effect-intensity, 0.6) * 0.4);
    @include ethereal-blur(high);
    mix-blend-mode: overlay;

    &.orb-large {
      width: 300px;
      height: 300px;
      background: radial-gradient(
        circle,
        rgba(230, 230, 255, 0.3) 0%,
        rgba(255, 215, 215, 0.1) 70%,
        transparent 100%
      );
    }

    &.orb-medium {
      width: 180px;
      height: 180px;
      background: radial-gradient(
        circle,
        rgba(215, 255, 215, 0.25) 0%,
        rgba(255, 204, 229, 0.08) 70%,
        transparent 100%
      );
    }

    &.orb-small {
      width: 120px;
      height: 120px;
      background: radial-gradient(
        circle,
        rgba(204, 229, 255, 0.2) 0%,
        rgba(240, 215, 255, 0.06) 70%,
        transparent 100%
      );
    }

    // Positioning and animations
    &.orb-1 {
      top: 10%;
      left: 15%;
      @include floating-animation(14s, 30px);
      animation-delay: 0s;
    }

    &.orb-2 {
      top: 60%;
      right: 20%;
      @include floating-animation(18s, 25px);
      animation-delay: -3s;
    }

    &.orb-3 {
      bottom: 20%;
      left: 25%;
      @include floating-animation(12s, 20px);
      animation-delay: -7s;
    }

    &.orb-4 {
      top: 30%;
      right: 10%;
      @include floating-animation(16s, 35px);
      animation-delay: -2s;
    }

    &.orb-5 {
      bottom: 40%;
      right: 40%;
      @include floating-animation(20s, 28px);
      animation-delay: -5s;
    }

    &.orb-6 {
      top: 70%;
      left: 60%;
      @include floating-animation(13s, 22px);
      animation-delay: -8s;
    }
  }
}

// ===== GEOMETRIC GRID =====
.geometric-grid {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
  opacity: calc(var(--effect-intensity, 0.6) * 0.5);

  .grid-pattern {
    width: 100%;
    height: 100%;
    opacity: 0.6;
    mix-blend-mode: multiply;
  }
}

// ===== MESH CANVAS =====
.mesh-canvas {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  display: block;
  opacity: var(--mesh-opacity, 0.5);
  mix-blend-mode: multiply;
  z-index: 3;
  @include ethereal-blur(medium);

  @include respond-to(tablet) {
    @include ethereal-blur(low);
    opacity: calc(var(--mesh-opacity, 0.5) * 0.8);
  }

  @include respond-to(mobile) {
    @include ethereal-blur(low);
    opacity: calc(var(--mesh-opacity, 0.5) * 0.6);
  }
}

// ===== CRYSTALLINE FRAGMENTS =====
.crystal-fragments {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 4;
  opacity: calc(var(--effect-intensity, 0.6) * 0.3);

  .crystal-shard {
    position: absolute;
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.1) 0%,
      rgba(255, 255, 255, 0.02) 100%
    );
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    mix-blend-mode: overlay;

    &.shard-1 {
      top: 20%;
      left: 10%;
      width: 60px;
      height: 60px;
      clip-path: polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%);
      animation: crystalRotate1 $crystal-rotation-duration linear infinite;
    }

    &.shard-2 {
      top: 70%;
      right: 15%;
      width: 40px;
      height: 40px;
      clip-path: polygon(
        30% 0%,
        70% 0%,
        100% 30%,
        100% 70%,
        70% 100%,
        30% 100%,
        0% 70%,
        0% 30%
      );
      animation: crystalRotate2 ($crystal-rotation-duration + 3s) linear
        infinite;
    }

    &.shard-3 {
      bottom: 30%;
      left: 30%;
      width: 35px;
      height: 35px;
      clip-path: polygon(50% 0%, 100% 25%, 82% 90%, 18% 90%, 0% 25%);
      animation: crystalFloat1 18s ease-in-out infinite;
    }

    &.shard-4 {
      top: 40%;
      right: 40%;
      width: 50px;
      height: 50px;
      clip-path: polygon(25% 0%, 75% 0%, 100% 50%, 75% 100%, 25% 100%, 0% 50%);
      animation: crystalFloat2 22s ease-in-out infinite;
    }

    &.shard-5 {
      bottom: 15%;
      right: 60%;
      width: 45px;
      height: 45px;
      clip-path: polygon(
        50% 0%,
        90% 20%,
        100% 60%,
        75% 100%,
        25% 100%,
        0% 60%,
        10% 20%
      );
      animation: crystalRotate3 ($crystal-rotation-duration - 2s) linear
        infinite;
    }
  }
}

// ===== BREATH EFFECT =====
.breath-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 2;

  .breath-layer {
    position: absolute;
    width: 100%;
    height: 100%;
    opacity: calc(var(--effect-intensity, 0.6) * 0.15);
    mix-blend-mode: overlay;

    &.breath-primary {
      background: radial-gradient(
        circle at 40% 40%,
        rgba(230, 230, 255, 0.1) 0%,
        transparent 70%
      );
      animation: breathe1 $breath-duration ease-in-out infinite;
    }

    &.breath-secondary {
      background: radial-gradient(
        circle at 60% 60%,
        rgba(255, 215, 215, 0.08) 0%,
        transparent 70%
      );
      animation: breathe2 ($breath-duration + 2s) ease-in-out infinite;
      animation-delay: -1s;
    }
  }
}

// ===== NOISE TEXTURE =====
.noise-texture {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 5;
  opacity: calc(var(--effect-intensity, 0.6) * 0.1);
  mix-blend-mode: multiply;

  svg {
    width: 100%;
    height: 100%;
  }
}

// ===== DEBUG ELEMENTS =====
.color-points-debug {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 100;

  .color-point-debug {
    position: absolute;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    transform: translate(-50%, -50%);
    @include glass-morphism(0.9);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    font-weight: 600;
    color: rgba(0, 0, 0, 0.8);
    font-family: "SF Mono", monospace;
    z-index: 1000;
    animation: debugPointPulse 2s ease-in-out infinite;
  }
}

// ===== GRADIENT LAYERS =====
.gradient-layers {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 2;

  .gradient-layer {
    position: absolute;
    border-radius: 50%;
    opacity: calc(var(--effect-intensity, 0.6) * 0.12);
    @include ethereal-blur(high);
    mix-blend-mode: multiply;

    &.primary-layer {
      top: -20%;
      left: -20%;
      width: 140%;
      height: 140%;
      background: linear-gradient(
        135deg,
        #e6e6ff 0%,
        #ffd7d7 25%,
        #d7ffd7 50%,
        #d7f3ff 75%,
        #ffcce5 100%
      );
      animation: gradientDrift1 30s ease-in-out infinite;
    }

    &.secondary-layer {
      bottom: -20%;
      right: -20%;
      width: 140%;
      height: 140%;
      background: linear-gradient(
        45deg,
        #f0d7ff 0%,
        #ffd7cc 30%,
        #d7ffcc 60%,
        #cce5ff 100%
      );
      animation: gradientDrift2 35s ease-in-out infinite;
    }

    &.accent-layer {
      top: 20%;
      left: 20%;
      width: 60%;
      height: 60%;
      background: linear-gradient(90deg, #ffccdb 0%, #fff7d7 50%, #f5f5dc 100%);
      animation: gradientPulse 25s ease-in-out infinite;
    }

    &.ambient-layer {
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 80%;
      height: 80%;
      background: radial-gradient(
        circle,
        rgba(230, 230, 255, 0.05) 0%,
        rgba(255, 215, 215, 0.03) 40%,
        transparent 70%
      );
      animation: ambientPulse 40s ease-in-out infinite;
    }
  }
}

// ===== ENHANCED LOADING STATE =====
.mesh-loading {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 50;
  @include glass-morphism(0.1);
  border-radius: 20px;
  padding: 30px 40px;
  text-align: center;

  .loading-constellation {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 8px;
    margin-bottom: 20px;
    flex-wrap: wrap;

    .loading-star {
      width: 8px;
      height: 8px;
      background: linear-gradient(45deg, #e6e6ff, #ffd7d7);
      border-radius: 50%;
      animation: starTwinkle 1.5s ease-in-out infinite;

      @for $i from 1 through 8 {
        &:nth-child(#{$i}) {
          animation-delay: #{($i - 1) * 0.2}s;
        }
      }
    }
  }

  .loading-text {
    font-family: "SF Pro Display", -apple-system, BlinkMacSystemFont, sans-serif;
    font-size: 14px;
    font-weight: 500;
    color: rgba(100, 100, 120, 0.8);
    letter-spacing: 2px;

    .loading-letter {
      display: inline-block;
      animation: letterFloat 2s ease-in-out infinite;
      opacity: 0.7;

      &:hover {
        opacity: 1;
      }
    }
  }
}

// ===== ENHANCED DEBUG PANEL =====
.mesh-debug {
  position: absolute;
  top: 20px;
  right: 20px;
  @include glass-morphism(0.95);
  border-radius: 16px;
  padding: 20px;
  font-family: "SF Mono", "Cascadia Code", monospace;
  font-size: 11px;
  color: rgba(0, 0, 0, 0.8);
  z-index: 1000;
  min-width: 250px;
  box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
  backdrop-filter: blur(20px) saturate(180%);

  .debug-panel {
    display: flex;
    flex-direction: column;
    gap: 16px;

    .debug-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-bottom: 12px;
      border-bottom: 1px solid rgba(0, 0, 0, 0.1);

      h3 {
        margin: 0;
        font-size: 13px;
        font-weight: 600;
        color: rgba(100, 80, 200, 0.9);
        letter-spacing: 0.5px;
      }

      .debug-indicator {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        background: rgba(200, 200, 200, 0.5);
        transition: all 0.3s ease;

        &.active {
          background: linear-gradient(45deg, #4ade80, #22c55e);
          box-shadow: 0 0 10px rgba(34, 197, 94, 0.3);
        }
      }
    }

    .debug-section {
      h4 {
        color: rgba(100, 80, 200, 0.8);
        margin: 0 0 8px 0;
        font-size: 10px;
        text-transform: uppercase;
        letter-spacing: 1px;
        font-weight: 600;
      }

      .metric {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 4px;
        padding: 2px 0;

        .metric-label {
          color: rgba(0, 0, 0, 0.6);
          font-size: 10px;
        }

        .metric-value {
          font-weight: 600;
          color: rgba(0, 0, 0, 0.8);
          font-size: 10px;

          &.warning {
            color: #f59e0b;
          }

          &.active {
            color: #22c55e;
          }
        }
      }
    }
  }

  @include respond-to(tablet) {
    display: none;
  }
}

// ===== CURSOR GLOW =====
.cursor-glow {
  position: absolute;
  width: 100px;
  height: 100px;
  border-radius: 50%;
  background: radial-gradient(
    circle,
    rgba(255, 255, 255, 0.1) 0%,
    transparent 70%
  );
  pointer-events: none;
  z-index: 10;
  transform: translate(-50%, -50%);
  mix-blend-mode: overlay;
  animation: cursorPulse 2s ease-in-out infinite;
}

// ===== ANIMATIONS =====
@keyframes auroraDrift1 {
  0%,
  100% {
    transform: translate(0, 0) rotate(0deg) scale(1);
  }
  25% {
    transform: translate(30px, -20px) rotate(5deg) scale(1.05);
  }
  50% {
    transform: translate(-20px, -40px) rotate(-3deg) scale(0.95);
  }
  75% {
    transform: translate(-40px, 20px) rotate(2deg) scale(1.02);
  }
}

@keyframes auroraDrift2 {
  0%,
  100% {
    transform: translate(0, 0) rotate(0deg) scale(1);
  }
  33% {
    transform: translate(-25px, 30px) rotate(-4deg) scale(1.08);
  }
  66% {
    transform: translate(35px, -15px) rotate(6deg) scale(0.92);
  }
}

@keyframes auroraPulse {
  0%,
  100% {
    opacity: 0.3;
    transform: scale(1);
  }
  50% {
    opacity: 0.1;
    transform: scale(1.2);
  }
}

@keyframes crystalRotate1 {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

@keyframes crystalRotate2 {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(-360deg);
  }
}

@keyframes crystalRotate3 {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(180deg);
  }
}

@keyframes crystalFloat1 {
  0%,
  100% {
    transform: translateY(0px) rotate(0deg);
  }
  50% {
    transform: translateY(-15px) rotate(5deg);
  }
}

@keyframes crystalFloat2 {
  0%,
  100% {
    transform: translateY(0px) rotate(0deg);
  }
  50% {
    transform: translateY(-20px) rotate(-3deg);
  }
}

@keyframes breathe1 {
  0%,
  100% {
    opacity: 0.15;
    transform: scale(1);
  }
  50% {
    opacity: 0.05;
    transform: scale(1.05);
  }
}

@keyframes breathe2 {
  0%,
  100% {
    opacity: 0.12;
    transform: scale(1);
  }
  50% {
    opacity: 0.03;
    transform: scale(1.08);
  }
}

@keyframes gradientDrift1 {
  0%,
  100% {
    transform: translate(0, 0) rotate(0deg) scale(1);
  }
  25% {
    transform: translate(20px, -15px) rotate(2deg) scale(1.02);
  }
  50% {
    transform: translate(-15px, -25px) rotate(-1deg) scale(0.98);
  }
  75% {
    transform: translate(-25px, 15px) rotate(1deg) scale(1.01);
  }
}

@keyframes gradientDrift2 {
  0%,
  100% {
    transform: translate(0, 0) rotate(0deg) scale(1);
  }
  33% {
    transform: translate(-20px, 25px) rotate(-2deg) scale(1.03);
  }
  66% {
    transform: translate(25px, -10px) rotate(3deg) scale(0.97);
  }
}

@keyframes gradientPulse {
  0%,
  100% {
    opacity: 0.12;
    transform: scale(1);
  }
  50% {
    opacity: 0.06;
    transform: scale(1.1);
  }
}

@keyframes ambientPulse {
  0%,
  100% {
    opacity: 0.05;
    transform: translate(-50%, -50%) scale(1);
  }
  50% {
    opacity: 0.02;
    transform: translate(-50%, -50%) scale(1.15);
  }
}

@keyframes starTwinkle {
  0%,
  100% {
    opacity: 0.3;
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.2);
  }
}

@keyframes letterFloat {
  0%,
  100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-3px);
  }
}

@keyframes debugPointPulse {
  0%,
  100% {
    transform: translate(-50%, -50%) scale(1);
  }
  50% {
    transform: translate(-50%, -50%) scale(1.1);
  }
}

@keyframes cursorPulse {
  0%,
  100% {
    opacity: 0.3;
    transform: translate(-50%, -50%) scale(1);
  }
  50% {
    opacity: 0.6;
    transform: translate(-50%, -50%) scale(1.2);
  }
}

// ===== RESPONSIVE OPTIMIZATIONS =====
@include respond-to(laptop) {
  .floating-orbs .orb {
    &.orb-large {
      width: 250px;
      height: 250px;
    }
    &.orb-medium {
      width: 150px;
      height: 150px;
    }
    &.orb-small {
      width: 100px;
      height: 100px;
    }
  }
}

@include respond-to(tablet) {
  .floating-orbs .orb {
    &.orb-large {
      width: 200px;
      height: 200px;
    }
    &.orb-medium {
      width: 120px;
      height: 120px;
    }
    &.orb-small {
      width: 80px;
      height: 80px;
    }
  }

  .crystal-fragments {
    opacity: calc(var(--effect-intensity, 0.6) * 0.15);

    .crystal-shard {
      &.shard-1 {
        width: 40px;
        height: 40px;
      }
      &.shard-2 {
        width: 30px;
        height: 30px;
      }
      &.shard-3 {
        width: 25px;
        height: 25px;
      }
      &.shard-4 {
        width: 35px;
        height: 35px;
      }
      &.shard-5 {
        width: 30px;
        height: 30px;
      }
    }
  }
}

@include respond-to(mobile) {
  .floating-orbs .orb {
    &.orb-large {
      width: 150px;
      height: 150px;
    }
    &.orb-medium {
      width: 100px;
      height: 100px;
    }
    &.orb-small {
      width: 60px;
      height: 60px;
    }
  }

  .crystal-fragments .crystal-shard {
    display: none;
  }

  .ethereal-base .aurora-bands .aurora-band {
    &.aurora-tertiary {
      display: none;
    }
  }

  .gradient-layers .gradient-layer {
    &.accent-layer,
    &.ambient-layer {
      display: none;
    }
  }
}

// ===== ACCESSIBILITY =====
@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }

  .floating-orbs .orb,
  .crystal-fragments .crystal-shard,
  .breath-overlay .breath-layer,
  .gradient-layers .gradient-layer {
    animation: none !important;
  }
}

@media (prefers-contrast: high) {
  .animated-mesh-container {
    .mesh-canvas,
    .floating-orbs .orb,
    .ethereal-base .aurora-bands .aurora-band {
      opacity: 0.1 !important;
      filter: contrast(200%) !important;
    }
  }
}
